# ğŸ½ï¸ Restaurant AR Platform | Ù…Ù†ØµØ© Ø§Ù„Ù…Ø·Ø¹Ù… Ø¨Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¹Ø²Ø²

<div dir="rtl">

Ù…Ù†ØµØ© Ø´Ø§Ù…Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù… Ù…Ø¹ Ù‚Ø§Ø¦Ù…Ø© Ø·Ø¹Ø§Ù… Ø¨ØªÙ‚Ù†ÙŠØ© Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¹Ø²Ø² (AR) - Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ ÙŠØ´Ù…Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ø§Ù…ØŒ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…ØŒ Ùˆ API Backend.

</div>

A comprehensive restaurant management platform with AR-enhanced menu - Complete system including public website, admin dashboard, and backend API.

---

## ğŸ“‹ Table of Contents | Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

- [Features | Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª](#features--Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª)
- [Tech Stack | Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©](#tech-stack--Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª-Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©)
- [Project Structure | Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹](#project-structure--Ù‡ÙŠÙƒÙ„-Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
- [Prerequisites | Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª](#prerequisites--Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª)
- [Getting Started | Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹](#getting-started--Ø§Ù„Ø¨Ø¯Ø¡-Ø§Ù„Ø³Ø±ÙŠØ¹)
- [Development | Ø§Ù„ØªØ·ÙˆÙŠØ±](#development--Ø§Ù„ØªØ·ÙˆÙŠØ±)
- [Database | Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#database--Ù‚Ø§Ø¹Ø¯Ø©-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
- [Architecture | Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©](#architecture--Ø§Ù„Ø¨Ù†ÙŠØ©-Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©)
- [Contributing | Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©](#contributing--Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©)

---

## âœ¨ Features | Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª

<div dir="rtl">

### ğŸ¯ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

- **Ù‚Ø§Ø¦Ù…Ø© Ø·Ø¹Ø§Ù… Ø¨Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¹Ø²Ø² (AR)**: Ø¹Ø±Ø¶ Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ù„Ù„Ø£Ø·Ø¨Ø§Ù‚
- **Ø·Ù„Ø¨Ø§Øª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†**: Ù†Ø¸Ø§Ù… Ø·Ù„Ø¨Ø§Øª Ù…ØªÙƒØ§Ù…Ù„ (Dine-in, Takeaway, Delivery)
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª**: Ø­Ø¬Ø² Ø§Ù„Ø·Ø§ÙˆÙ„Ø§Øª Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ù…ØªÙ‚Ø¯Ù…Ø©
- **Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ±ÙˆØ¹**: Ø¥Ø¯Ø§Ø±Ø© Ø¹Ø¯Ø© ÙØ±ÙˆØ¹
- **Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„ÙƒÙˆØ¨ÙˆÙ†Ø§Øª**: Ù†Ø¸Ø§Ù… Ø´Ø§Ù…Ù„ Ù„Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠØ©
- **ØªØ­Ù„ÙŠÙ„Ø§Øª AR**: ØªØªØ¨Ø¹ ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ø¹ Ù†Ù…Ø§Ø°Ø¬ AR
- **Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯**: Ø¯Ø¹Ù… Ø·Ø±Ù‚ Ø¯ÙØ¹ Ù…ØªÙ†ÙˆØ¹Ø©
- **Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª**: Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
- **QR Code Ù„Ù„Ø·Ø§ÙˆÙ„Ø§Øª**: Ø·Ù„Ø¨ Ù…Ø¨Ø§Ø´Ø± Ù…Ù† Ø§Ù„Ø·Ø§ÙˆÙ„Ø©

</div>

### ğŸ¯ Core Features

- **AR-Enhanced Menu**: 3D visualization of dishes
- **Online Ordering**: Complete ordering system (Dine-in, Takeaway, Delivery)
- **Reservation Management**: Table booking with advanced management
- **Multi-Branch System**: Manage multiple restaurant branches
- **Promotions & Coupons**: Comprehensive promotional system
- **AR Analytics**: Track user interactions with AR models
- **Multi-Payment**: Support for various payment methods
- **Multi-Language**: Arabic and English support
- **Table QR Codes**: Direct ordering from tables

---

## ğŸ› ï¸ Tech Stack | Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

### Frontend

- **Next.js 14** (App Router) - Web & Admin interfaces
- **React 18** - UI library
- **TypeScript** - Type safety

### Backend

- **NestJS** - Node.js framework
- **Prisma** - Database ORM
- **PostgreSQL 16** - Primary database
- **Redis 7** - Caching & sessions

### Monorepo Tools

- **pnpm** - Package manager
- **Turborepo** - Build system
- **TypeScript** - Shared type definitions

### Infrastructure

- **Docker** - Containerization
- **Docker Compose** - Local development

---

## ğŸ“ Project Structure | Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
restaurant-ar-platform/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                    # Next.js 14 - Public website
â”‚   â”œâ”€â”€ admin/                  # Next.js 14 - Admin dashboard
â”‚   â””â”€â”€ api/                    # NestJS - Backend API
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ database/               # Prisma Schema + Migrations
â”‚   â”œâ”€â”€ shared/                 # DTOs + Types + Constants
â”‚   â”œâ”€â”€ ui/                     # Shared UI Components
â”‚   â””â”€â”€ config/                 # Shared Configurations
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ architecture/           # Architecture documentation
â”‚   â””â”€â”€ decisions/              # Architecture Decision Records
â”œâ”€â”€ infrastructure/
â”‚   â””â”€â”€ docker/                 # Docker configurations
â”œâ”€â”€ package.json                # Root package configuration
â”œâ”€â”€ pnpm-workspace.yaml         # pnpm workspace config
â”œâ”€â”€ turbo.json                  # Turborepo pipeline config
â”œâ”€â”€ tsconfig.base.json          # Base TypeScript config
â”œâ”€â”€ .eslintrc.js                # ESLint configuration
â”œâ”€â”€ .prettierrc                 # Prettier configuration
â”œâ”€â”€ docker-compose.yml          # Docker services
â””â”€â”€ CONTRIBUTING.md             # Contribution guidelines
```

---

## ğŸ“¦ Prerequisites | Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

- **Node.js** >= 20.0.0
- **pnpm** >= 8.0.0
- **Docker** & **Docker Compose**
- **Git**

---

## ğŸš€ Getting Started | Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹

### 1. Clone the repository | Ø§Ø³ØªÙ†Ø³Ø§Ø® Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```bash
git clone https://github.com/hoz2syr/restaurant-ar-platform.git
cd restaurant-ar-platform
```

### 2. Install dependencies | ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª

```bash
pnpm install
```

### 3. Setup environment variables | Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©

```bash
cp .env.example .env
```

Edit `.env` with your configuration.

### 4. Start Docker services | ØªØ´ØºÙŠÙ„ Ø®Ø¯Ù…Ø§Øª Docker

```bash
pnpm docker:up
```

This starts:

- PostgreSQL on port 5432
- Redis on port 6379

### 5. Setup database | Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```bash
# Generate Prisma client
pnpm db:generate

# Push schema to database
pnpm db:push

# Seed initial data
pnpm db:seed
```

### 6. Start development servers | ØªØ´ØºÙŠÙ„ Ø®ÙˆØ§Ø¯Ù… Ø§Ù„ØªØ·ÙˆÙŠØ±

```bash
pnpm dev
```

This starts:

- **Web App**: http://localhost:3000
- **API**: http://localhost:3001
- **Admin Panel**: http://localhost:3002

---

## ğŸ’» Development | Ø§Ù„ØªØ·ÙˆÙŠØ±

### Available Scripts | Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ØªØ§Ø­Ø©

```bash
# Development
pnpm dev              # Start all apps in development mode
pnpm build            # Build all apps
pnpm lint             # Lint all apps
pnpm format           # Format code with Prettier
pnpm type-check       # Run TypeScript type checking

# Database
pnpm db:generate      # Generate Prisma client

---

## âœ… Production Readiness Checklist | Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„Ø¥Ù†ØªØ§Ø¬

- Global error handling enabled (NestJS exception filter)
- Security headers via Helmet
- Rate limiting configured (per IP)
- Strict request validation
- Health check endpoints for API + frontends
- SEO metadata, Open Graph, sitemap, robots

---

## ğŸŒ Environment Separation | ÙØµÙ„ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª

Use the following templates for environment-specific settings:

- `.env.example` (development baseline)
- `.env.staging.example` (staging)
- `.env.production.example` (production)

Recommended variables:

- `NODE_ENV`
- `DATABASE_URL`
- `JWT_SECRET`
- `CORS_ORIGIN`
- `THROTTLE_TTL` / `THROTTLE_LIMIT`
- `NEXT_PUBLIC_API_URL`
- `NEXT_PUBLIC_WEB_URL`

---

## ğŸš€ Deployment | Ø§Ù„Ù†Ø´Ø±

### Frontend (Vercel)

- Deploy `apps/web` as a Vercel project
- Deploy `apps/admin` as a separate Vercel project
- Each app includes a `vercel.json` with pnpm build commands

### Backend (VPS/AWS)

- Use `apps/api/Dockerfile`
- Use `docker-compose.prod.yml` for production orchestration
- Expose port `3001` (API)
- Ensure `JWT_SECRET` and database credentials are set

Health Check:
- `GET /api/health`

---

## ğŸ“ˆ Observability | Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©

- Structured logging enabled via NestJS interceptor
- Request duration, IP, and user-agent logged in JSON
- Hooks ready for external monitoring tools (Prometheus/Sentry)

pnpm db:push          # Push schema changes
pnpm db:migrate       # Create migration
pnpm db:seed          # Seed database
pnpm db:studio        # Open Prisma Studio

# Docker
pnpm docker:up        # Start Docker services
pnpm docker:down      # Stop Docker services
pnpm docker:logs      # View Docker logs

# Individual apps
pnpm --filter @restaurant/web dev
pnpm --filter @restaurant/admin dev
pnpm --filter @restaurant/api dev
```

### Working with Packages | Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø­Ø²Ù…

```bash
# Add dependency to specific package
pnpm --filter @restaurant/web add package-name

# Run script in specific package
pnpm --filter @restaurant/api build
```

---

## ğŸ—„ï¸ Database | Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Schema Overview | Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ø·Ø·

The database includes 19 main models:

1. **User** - System users and administrators
2. **Branch** - Restaurant branches
3. **Table** - Tables with QR codes
4. **Category** - Menu categories
5. **Tag** - Item tags (allergens, dietary, features)
6. **MenuItem** - Menu items with AR support
7. **MenuItemTag** - Many-to-many relationship
8. **Customer** - Customer profiles
9. **CustomerAddress** - Customer addresses
10. **Promotion** - Promotions and coupons
11. **Order** - Customer orders
12. **OrderItem** - Order line items with snapshots
13. **Payment** - Payment transactions
14. **Reservation** - Table reservations
15. **OrderStatusHistory** - Order status tracking
16. **InventoryLog** - Inventory tracking
17. **ArAnalytics** - AR interaction analytics
18. **ActivityLog** - System activity logs
19. **Notification** - User notifications

### Default Admin Credentials | Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©

After seeding:

- **Email**: admin@restaurant.com
- **Password**: admin123

âš ï¸ **Change these credentials in production!**

### Managing Migrations | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ±Ø­ÙŠÙ„Ø§Øª

```bash
# Create a new migration
pnpm db:migrate

# Apply migrations in production
pnpm db:migrate:deploy

# View database in Prisma Studio
pnpm db:studio
```

---

## ğŸ—ï¸ Architecture | Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

### Design Principles | Ø§Ù„Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„ØªØµÙ…ÙŠÙ…ÙŠØ©

<div dir="rtl">

1. **Snapshot-First Rule**: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± ØªÙØ­ÙØ¸ ÙƒÙ€ snapshots ÙÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
2. **Backend is Source of Truth**: Backend Ù‡Ùˆ Ù…ØµØ¯Ø± Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ø§Ù„ÙˆØ­ÙŠØ¯
3. **No Business Logic in Next.js**: Ù„Ø§ Ù…Ù†Ø·Ù‚ Ø£Ø¹Ù…Ø§Ù„ ÙÙŠ API Routes
4. **AR as Progressive Enhancement**: AR ÙƒÙ…ÙŠØ²Ø© ØªØ­Ø³ÙŠÙ†ÙŠØ© ÙˆÙ„ÙŠØ³Øª Ø£Ø³Ø§Ø³ÙŠØ©

</div>

### Key Architectural Decisions

1. **Snapshot-First Rule**: All items saved as snapshots in orders
2. **Backend is Source of Truth**: Backend is the single source of truth
3. **No Business Logic in Next.js**: No business logic in API Routes
4. **AR as Progressive Enhancement**: AR is enhancement, not core feature

See [CONTRIBUTING.md](./CONTRIBUTING.md) for detailed rules.

---

## ğŸ¤ Contributing | Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

Please read [CONTRIBUTING.md](./CONTRIBUTING.md) for:

- Development rules
- Code standards
- Commit conventions
- Pull request process

---

## ğŸ“ License

This project is licensed under the MIT License.

---

## ğŸ“ Support | Ø§Ù„Ø¯Ø¹Ù…

For questions and support:

- Open an issue on GitHub
- Email: support@restaurant.com

---

<div align="center">

**Made with â¤ï¸ for the Restaurant Industry**

ØµÙÙ†Ø¹ Ø¨Ù€ â¤ï¸ Ù„ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ø·Ø§Ø¹Ù…

</div>
